{"version":3,"sources":["styles.js","App.js","constants.js","serviceWorker.js","index.js"],"names":["Main","styled","main","East","section","West","Board","div","HexRow","HEX_RADIUS","Hex","TRIANGLE_HEIGHT","color","HexTitle","h2","HexDescription","p","HexContainer","HexInfo","header","footer","Location","TerrainType","ReactTooltip","_ReactTooltip","HexLevel","BOARD","Array","fill","DEFAULT_HOVER","title","description","TILE_URL","TERRAIN_URL","zip","listA","listB","length","Error","zipped","forEach","key","i","parseSheetData","data","allRows","reduce","currentRows","entry","cell","row","parseInt","val","$t","push","e","console","error","rows","parseTileSheet","map","hex","location","split","n","trim","hexLevel","parseTerrainSheet","terrainTypes","terrainObj","terrainType","getHexClass","level","App","useState","hovered","setHovered","setData","terrainMapping","setTerrainMapping","useEffect","a","axios","hexResult","terrainResult","hexes","feed","terrain","dataCopy","JSON","parse","stringify","getData","onMouseOver","useCallback","event","target","currentTarget","getAttribute","col","onMouseOut","className","cx","odd","j","data-tip","data-row","data-col","fogOfWar","hidden","type","substring","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.66e11464.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport _ReactTooltip from \"react-tooltip\";\n\nimport { BOARD_SIZE } from \"./constants\";\n\nconst TRIANGLE_HEIGHT = 7.5;\nconst HEX_RADIUS = 13;\nconst HEX_MARGIN = 1.5;\n\nexport const Main = styled.main`\n  background: lightgray;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const East = styled.section`\n  flex: 1;\n  opacity: 0.1;\n`;\n\nexport const West = styled.section`\n  flex: 3;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  overflow: visible;\n  z-index: 1;\n`;\n\nexport const Board = styled.div`\n  width: ${(HEX_RADIUS + HEX_MARGIN) * 2 * BOARD_SIZE}px;\n  transform: perspective(900px) rotateX(60deg) translateY(200px);\n`;\n\nexport const HexRow = styled.div`\n  clear: left;\n\n  &.hidden {\n    visibility: hidden;\n  }\n\n  &.odd {\n    margin-left: ${HEX_RADIUS + HEX_MARGIN / 2}px;\n  }\n`;\n\nexport const Hex = styled.div`\n  margin-left: ${HEX_MARGIN}px;\n  margin-bottom: ${HEX_MARGIN}px;\n  float: left;\n  margin-top: ${TRIANGLE_HEIGHT}px;\n  width: ${HEX_RADIUS * 2}px;\n  height: ${TRIANGLE_HEIGHT * 2}px;\n  background-color: ${({ color }) => color};\n  position: relative;\n  box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-in-out;\n\n  &.hidden {\n    visibility: hidden;\n  }\n\n  &:hover {\n    z-index: 10;\n    transform: scale(1.4);\n    box-shadow: 0 11px 15px -7px rgba(0, 0, 0, 0.2),\n      0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);\n  }\n\n  &::before {\n    content: \"\";\n    width: 0;\n    height: 0;\n    border-bottom: ${TRIANGLE_HEIGHT}px solid ${({ color }) => color};\n    border-left: ${HEX_RADIUS}px solid transparent;\n    border-right: ${HEX_RADIUS}px solid transparent;\n    position: absolute;\n    top: -${TRIANGLE_HEIGHT}px;\n  }\n\n  &::after {\n    content: \"\";\n    width: 0;\n    position: absolute;\n    bottom: -${TRIANGLE_HEIGHT}px;\n    border-top: ${TRIANGLE_HEIGHT}px solid ${({ color }) => color};\n    border-left: ${HEX_RADIUS}px solid transparent;\n    border-right: ${HEX_RADIUS}px solid transparent;\n  }\n`;\n\nexport const HexTitle = styled.h2`\n  font-size: 16px;\n  color: black;\n  margin: 8px;\n  margin-right: 28px;\n`;\n\nexport const HexDescription = styled.p`\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.87);\n  white-space: normal;\n  margin: 8px;\n`;\n\nexport const HexContainer = styled.section`\n  margin: 0;\n  max-width: 300px;\n  overflow: hidden;\n`;\n\nexport const Header = styled.header`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const HexInfo = styled.footer`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  font-size: 10px;\n  line-height: 18px;\n  padding: 0 8px;\n\n  background: #ddd;\n  border-radius: 0 0 4px 4px;\n`;\n\nexport const Location = styled.p`\n  margin: 0;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.87);\n`;\n\nexport const TerrainType = styled.p`\n  margin: 0;\n  text-transform: uppercase;\n  font-weight: bold;\n`;\n\nexport const ReactTooltip = styled(_ReactTooltip)`\n  &.__react_component_tooltip.type-light {\n    background: #eee;\n    padding: 0;\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    border-radius: 4px;\n\n    &.place-top::after {\n      display: none;\n    }\n  }\n`;\n\nexport const HexLevel = styled.div`\n  color: rgba(0, 0, 0, 0.7);\n  font-size: 10px;\n  font-weight: bold;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 36px;\n  width: 36px;\n  text-align: right;\n  padding: 2px;\n  border-radius: 0 4px 0 0;\n\n  &.low {\n    background: linear-gradient(45deg, transparent 36px, palegreen 0) bottom\n      left;\n  }\n\n  &.medium {\n    background: linear-gradient(45deg, transparent 36px, khaki 0) bottom left;\n  }\n\n  &.high {\n    background: linear-gradient(45deg, transparent 36px, lightcoral 0) bottom\n      left;\n    color: white;\n  }\n`;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport cx from \"classnames\";\nimport axios from \"axios\";\n\nimport {\n  Main,\n  East,\n  West,\n  Hex,\n  HexRow,\n  Board,\n  HexTitle,\n  HexDescription,\n  HexContainer,\n  HexInfo,\n  Location,\n  ReactTooltip,\n  TerrainType,\n  HexLevel\n} from \"./styles\";\nimport { BOARD_SIZE } from \"./constants\";\n\nconst BOARD = Array(BOARD_SIZE).fill(Array(BOARD_SIZE).fill({}));\n\nconst DEFAULT_HOVER = {\n  title: \"Westwall\",\n  description:\n    \"A small but bustling town sitting at the farthest reaches of civilization. Adventurers flock here, seeking fame and fortune in the wilds west of the wall.\"\n};\n\nconst TILE_URL =\n  \"https://spreadsheets.google.com/feeds/cells/1-Oc-nzUgM8HB1S7EL9Dgs8i3KpyBC5NUe7G1Fd2KC2I/1/public/full?alt=json\";\n\nconst TERRAIN_URL =\n  \"https://spreadsheets.google.com/feeds/cells/1-Oc-nzUgM8HB1S7EL9Dgs8i3KpyBC5NUe7G1Fd2KC2I/2/public/full?alt=json\";\n\nfunction zip(listA, listB) {\n  if (listA?.length !== listB?.length) {\n    throw new Error(\"zip() requires two equal length arrays\");\n  }\n  const zipped = {};\n  listA.forEach((key, i) => (zipped[key] = listB[i]));\n  return zipped;\n}\n\nfunction parseSheetData(data) {\n  // take data from the above sheet and parse it to machine readable\n  const allRows = data.reduce(\n    (currentRows, entry) => {\n      try {\n        const cell = entry[\"gs$cell\"];\n        const row = parseInt(cell?.row, 10) - 1;\n        const val = cell.$t;\n\n        if (currentRows.length <= row) {\n          currentRows.push([]);\n        }\n        currentRows[row].push(val);\n        return currentRows;\n      } catch (e) {\n        console.error(\"Error parsing rows from API\");\n        throw e;\n      }\n    },\n    [[]]\n  );\n  const [header, ...rows] = allRows;\n  return { header, rows };\n}\n\nfunction parseTileSheet(data) {\n  const { header, rows: hexes } = parseSheetData(data);\n  const zipped = hexes.map(hex => zip(header, hex));\n  return zipped.map(hex => ({\n    ...hex,\n    location: hex.location.split(\",\").map(n => parseInt(n.trim())),\n    hexLevel: hex.hexLevel !== \"-\" ? parseInt(hex.hexLevel) : 0\n  }));\n}\n\nfunction parseTerrainSheet(data) {\n  const { header, rows } = parseSheetData(data);\n  return rows.reduce((terrainTypes, row) => {\n    const terrainObj = zip(header, row);\n    terrainTypes[terrainObj.terrainType] = terrainObj;\n    return terrainTypes;\n  }, {});\n}\n\nfunction getHexClass(level = 0) {\n  return level > 3 ? \"high\" : level > 1 ? \"medium\" : \"low\";\n}\n\nfunction App() {\n  const [hovered, setHovered] = useState(DEFAULT_HOVER);\n  const [data, setData] = useState(BOARD);\n  const [terrainMapping, setTerrainMapping] = useState({});\n\n  useEffect(() => {\n    async function getData() {\n      const hexResult = await axios(TILE_URL);\n      const terrainResult = await axios(TERRAIN_URL);\n      const hexes = parseTileSheet(hexResult?.data?.feed?.entry);\n      const terrain = parseTerrainSheet(terrainResult?.data?.feed?.entry);\n      const dataCopy = JSON.parse(JSON.stringify(BOARD));\n      hexes.forEach(hex => {\n        const { location } = hex;\n        dataCopy[location[0]][location[1]] = hex;\n      });\n      setData(dataCopy);\n      setTerrainMapping(terrain);\n    }\n    getData();\n  }, []);\n\n  const onMouseOver = useCallback(\n    event => {\n      const target = event.currentTarget;\n      const row = parseInt(target.getAttribute(\"data-row\"));\n      const col = parseInt(target.getAttribute(\"data-col\"));\n\n      setHovered({ ...data[row][col] });\n    },\n    [data]\n  );\n\n  const onMouseOut = useCallback(() => setHovered(DEFAULT_HOVER), []);\n  return (\n    <Main>\n      <West className=\"hex-container\">\n        <Board>\n          {data.map((row, i) => (\n            <HexRow key={i} className={cx({ odd: i % 2 === 1 })}>\n              {row.map((hex, j) => {\n                return (\n                  <Hex\n                    key={`${i}-${j}`}\n                    data-tip=\"React-tooltip\"\n                    data-row={i}\n                    data-col={j}\n                    color={\n                      hex?.fogOfWar === \"TRUE\"\n                        ? \"slategray\"\n                        : hex?.color !== \"-\"\n                        ? hex.color\n                        : hex?.terrainType !== \"-\"\n                        ? terrainMapping[hex.terrainType]?.color\n                        : \"transparent\"\n                    }\n                    onMouseOver={onMouseOver}\n                    onMouseOut={onMouseOut}\n                    className={cx({ hidden: !hex?.title })}\n                  />\n                );\n              })}\n            </HexRow>\n          ))}\n          <HexRow odd>\n            {Array(20)\n              .fill({})\n              .map((row, i) => (\n                <Hex\n                  key={`bottom-${i}`}\n                  data-tip=\"React-tooltip\"\n                  color={\"#383838\"}\n                  className={cx({ hidden: i !== 10 })}\n                />\n              ))}\n          </HexRow>\n        </Board>\n      </West>\n\n      <East />\n\n      <ReactTooltip type=\"light\">\n        <HexContainer>\n          {hovered.fogOfWar === \"TRUE\" ? (\n            <HexDescription>\n              Uncharted territory. Explore at your own risk.\n            </HexDescription>\n          ) : (\n            <>\n              <HexTitle>{hovered.title}</HexTitle>\n              {hovered.description.split(\"\\\\n\").map(description => (\n                <HexDescription key={description.substring(0, 20)}>\n                  {description}\n                </HexDescription>\n              ))}\n            </>\n          )}\n          {hovered?.hexLevel > 0 && (\n            <HexLevel className={getHexClass(hovered.hexLevel)}>\n              {hovered.hexLevel}\n            </HexLevel>\n          )}\n          {(hovered.location || hovered.terrainType) && (\n            <HexInfo>\n              {hovered.terrainType && (\n                <TerrainType>\n                  {hovered.terrainType === \"-\" || hovered.fogOfWar === \"TRUE\"\n                    ? \"Unknown\"\n                    : hovered.terrainType}\n                </TerrainType>\n              )}\n              {hovered.location && (\n                <Location>\n                  {hovered.location[0]}, {hovered.location[1]}\n                </Location>\n              )}\n            </HexInfo>\n          )}\n        </HexContainer>\n      </ReactTooltip>\n    </Main>\n  );\n}\n\nexport default App;\n","export const BOARD_SIZE = 20;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}