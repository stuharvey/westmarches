(this.webpackJsonpwestmarches=this.webpackJsonpwestmarches||[]).push([[0],{44:function(n,e,t){n.exports=t(72)},49:function(n,e,t){},72:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(35),i=t.n(o),l=(t(49),t(10)),c=t.n(l),u=t(17),s=t(11),p=t(15),f=t(13),d=t.n(f),m=t(20),g=t(9),v=t(1),h=t(2),b=t(36);function x(){var n=Object(v.a)(["\n  color: rgba(0, 0, 0, 0.7);\n  font-size: 10px;\n  font-weight: bold;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 36px;\n  width: 36px;\n  text-align: right;\n  padding: 2px;\n  border-radius: 0 4px 0 0;\n\n  &.low {\n    background: linear-gradient(45deg, transparent 36px, palegreen 0) bottom\n      left;\n  }\n\n  &.medium {\n    background: linear-gradient(45deg, transparent 36px, khaki 0) bottom left;\n  }\n\n  &.high {\n    background: linear-gradient(45deg, transparent 36px, lightcoral 0) bottom\n      left;\n    color: white;\n  }\n"]);return x=function(){return n},n}function w(){var n=Object(v.a)(["\n  &.__react_component_tooltip.type-light {\n    background: #eee;\n    padding: 0;\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    border-radius: 4px;\n\n    &.place-top::after {\n      display: none;\n    }\n  }\n"]);return w=function(){return n},n}function E(){var n=Object(v.a)(["\n  margin: 0;\n  text-transform: uppercase;\n  font-weight: bold;\n"]);return E=function(){return n},n}function O(){var n=Object(v.a)(["\n  margin: 0;\n  font-weight: bold;\n"]);return O=function(){return n},n}function j(){var n=Object(v.a)(["\n  margin: 0;\n  color: rgba(0, 0, 0, 0.87);\n"]);return j=function(){return n},n}function y(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  font-size: 10px;\n  line-height: 18px;\n  padding: 0 8px;\n\n  background: #ddd;\n  border-radius: 0 0 4px 4px;\n"]);return y=function(){return n},n}function k(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return k=function(){return n},n}function z(){var n=Object(v.a)(["\n  margin: 0;\n  max-width: 300px;\n  overflow: hidden;\n"]);return z=function(){return n},n}function I(){var n=Object(v.a)(["\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.87);\n  white-space: normal;\n  margin: 8px;\n"]);return I=function(){return n},n}function N(){var n=Object(v.a)(["\n  font-size: 16px;\n  color: black;\n  margin: 8px;\n  margin-right: 28px;\n"]);return N=function(){return n},n}var T=h.a.h2(N()),M=h.a.p(I()),S=h.a.section(z()),U=(h.a.header(k()),h.a.footer(y())),L=h.a.p(j()),R=h.a.p(O()),A=h.a.p(E()),C=Object(h.a)(b.a)(w()),W=h.a.aside(x());function B(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n>3?"high":n>1?"medium":"low"}var F=function(n){var e=n.hovered;return a.a.createElement(C,{type:"light"},a.a.createElement(S,null,"TRUE"===e.fogOfWar?a.a.createElement(M,null,"Uncharted territory. Explore at your own risk."):a.a.createElement(a.a.Fragment,null,a.a.createElement(T,null,e.title),e.description.split("\\n").map((function(n){return a.a.createElement(M,{key:n.substring(0,20)},n)}))),(null===e||void 0===e?void 0:e.hexLevel)>0&&"TRUE"!==e.fogOfWar&&a.a.createElement(W,{className:B(e.hexLevel)},e.hexLevel),(e.location||e.terrainType)&&a.a.createElement(U,null,e.terrainType&&a.a.createElement(A,null,"-"===e.terrainType||"TRUE"===e.fogOfWar?"Unknown":e.terrainType),e["tile owner"]&&"-"!==e["tile owner"]&&"TRUE"!==e.fogOfWar&&a.a.createElement(R,null,e["tile owner"]),e.location&&a.a.createElement(L,null,e.location[0],", ",e.location[1]))))},D=t(21),H=t.n(D),J=t(40);var K=function(n){var e=n.width,t=n.className,r=n.fill,o=void 0===r?"":r,i=(n.hexInfo,Object(J.a)(n,["width","className","fill","hexInfo"]));return a.a.createElement("svg",Object.assign({},i,{viewBox:"0 0 260 300",width:e,className:t,fill:o}),a.a.createElement("polygon",{className:"polygon",points:"130,300 260,225 260,75 130,0 0,75 0,225"}))};function P(){var n=Object(v.a)(["\n  top: 0;\n  bottom: 0;\n  left: 0;\n  p {\n    transform: rotate(90deg);\n  }\n"]);return P=function(){return n},n}function _(){var n=Object(v.a)(["\n  top: 0;\n  bottom: 0;\n  right: 0;\n\n  p {\n    transform: rotate(270deg);\n  }\n"]);return _=function(){return n},n}function Y(){var n=Object(v.a)(["\n  top: 6px;\n  left: 0;\n  right: 0;\n"]);return Y=function(){return n},n}function $(){var n=Object(v.a)(["\n  font-size: 16px;\n  margin: 0;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.54);\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: visible;\n\n  p {\n    margin: 0;\n  }\n"]);return $=function(){return n},n}function q(){var n=Object(v.a)(["\n  margin-left: ","px;\n  margin-bottom: ","px;\n  margin-top: -","px;\n  float: left;\n  width: ","px;\n  transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-out;\n  filter: drop-shadow(0 0 4px rgba(0, 0, 0, 0.2));\n  position: relative;\n\n  &.hidden {\n    visibility: hidden;\n  }\n\n  &:hover {\n    z-index: 10;\n    transform: scale(1.4);\n    filter: drop-shadow(0 0 8px rgba(0, 0, 0, 0.2));\n  }\n"]);return q=function(){return n},n}function G(){var n=Object(v.a)(["\n  clear: left;\n\n  &.hidden {\n    visibility: hidden;\n  }\n\n  &.odd {\n    margin-left: ","px;\n  }\n"]);return G=function(){return n},n}function X(){var n=Object(v.a)(["\n  width: ","px;\n  transform: perspective(900px) rotateX(60deg) translateY(200px);\n  align-self: flex-start;\n"]);return X=function(){return n},n}var Q=h.a.div(X(),580),V=h.a.div(G(),13.75),Z=Object(h.a)(K)(q(),1.5,1.5,7.5,26),nn=h.a.div($()),en=Object(h.a)(nn)(Y()),tn=Object(h.a)(nn)(_()),rn=Object(h.a)(nn)(P());var an=a.a.memo((function(n){var e=n.hexData,t=n.onMouseOver,r=n.onMouseOut,o=n.terrainMapping;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,null,e.map((function(n,e){return a.a.createElement(V,{key:e,className:H()({odd:e%2===1})},n.map((function(n,i){var l;return a.a.createElement(Z,{key:"".concat(e,"-").concat(i),"data-tip":"React-tooltip","data-row":e,"data-col":i,fill:"TRUE"===(null===n||void 0===n?void 0:n.fogOfWar)?"slategray":"-"!==(null===n||void 0===n?void 0:n.color)?n.color:"-"!==(null===n||void 0===n?void 0:n.terrainType)?null===(l=o[n.terrainType])||void 0===l?void 0:l.color:"transparent",onMouseOver:t,onMouseOut:r,className:H()({hidden:!(null===n||void 0===n?void 0:n.title)}),hexInfo:n})})))})),a.a.createElement(V,{odd:!0},Array(20).fill({}).map((function(n,e){return a.a.createElement(Z,{key:"bottom-".concat(e),"data-tip":"React-tooltip",color:"#383838",className:H()({hidden:10!==e})})})))),a.a.createElement(en,null,a.a.createElement("p",null,"West")),a.a.createElement(tn,null,a.a.createElement("p",null,"North")),a.a.createElement(rn,null,a.a.createElement("p",null,"South")))}));function on(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  text-decoration: none;\n  text-align: center;\n  min-width: 80px;\n  text-transform: uppercase;\n  font-weight: 900;\n  color: rgba(0, 0, 0, 0.54);\n  font-size: 14px;\n  line-height: 50px;\n  height: 50px;\n\n  padding: 0 16px;\n\n  &.active {\n    color: rgba(0, 0, 0, 0.87);\n  }\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.1);\n    color: rgba(0, 0, 0, 0.87);\n  }\n"]);return on=function(){return n},n}function ln(){var n=Object(v.a)(["\n  flex: 1 0 auto;\n"]);return ln=function(){return n},n}function cn(){var n=Object(v.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  display: flex;\n  height: 50px;\n  background: #eee;\n"]);return cn=function(){return n},n}function un(){var n=Object(v.a)(["\n  flex: 0 0 50px;\n"]);return un=function(){return n},n}var sn=h.a.nav(un()),pn=h.a.ul(cn()),fn=h.a.li(ln()),dn=Object(h.a)(m.b)(on());var mn=function(){return a.a.createElement(sn,null,a.a.createElement(pn,null,a.a.createElement(fn,null,a.a.createElement(dn,{to:"/westmarches",exact:!0},"Map")),a.a.createElement(fn,null,a.a.createElement(dn,{to:"/westmarches/players"},"Characters")),a.a.createElement(fn,null,a.a.createElement(dn,{to:"/westmarches/adventures"},"Adventures")),a.a.createElement(fn,null,a.a.createElement(dn,{to:"/westmarches/pawn"},"Perenolde's Pawn Palace"))))};function gn(){var n=Object(v.a)(["\n  display: inline-block;\n  background: #ffde6b;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.25);\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  margin-left: 2px;\n"]);return gn=function(){return n},n}function vn(){var n=Object(v.a)(["\n  position: absolute;\n  top: 0;\n  right: 12px;\n\n  font-size: 10px;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.38);\n"]);return vn=function(){return n},n}function hn(){var n=Object(v.a)(["\n  font-size: 10px;\n  margin: 0;\n"]);return hn=function(){return n},n}function bn(){var n=Object(v.a)(["\n  margin: 0;\n  font-weight: bold;\n  line-height: 16px;\n"]);return bn=function(){return n},n}function xn(){var n=Object(v.a)(["\n  margin: 12px 12px 6px;\n  display: block;\n  width: 75px;\n  height: 75px;\n  border: 1px solid black;\n"]);return xn=function(){return n},n}function wn(){var n=Object(v.a)(["\n  background: #89d9de;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n"]);return wn=function(){return n},n}function En(){var n=Object(v.a)(["\n  background: #d6d6d6;\n  position: relative;\n  height: 4px;\n"]);return En=function(){return n},n}function On(){var n=Object(v.a)(["\n  p {\n    text-align: center;\n    line-height: 18px;\n    font-size: 12px;\n    color: rgba(0, 0, 0, 0.38);\n    margin: 0;\n  }\n"]);return On=function(){return n},n}function jn(){var n=Object(v.a)(["\n  margin: 0;\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.54);\n  margin-top: 6px;\n"]);return jn=function(){return n},n}function yn(){var n=Object(v.a)(["\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.38);\n  margin: 0;\n"]);return yn=function(){return n},n}function kn(){var n=Object(v.a)(["\n  margin: 0;\n  font-size: 16px;\n  line-height: 20px;\n  font-weight: bold;\n"]);return kn=function(){return n},n}function zn(){var n=Object(v.a)(["\n  flex: 0 0 90px;\n\n  text-align: center;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.54);\n"]);return zn=function(){return n},n}function In(){var n=Object(v.a)(["\n  flex: 1;\n  padding: 12px 12px 12px 0;\n"]);return In=function(){return n},n}function Nn(){var n=Object(v.a)(["\n  display: flex;\n"]);return Nn=function(){return n},n}function Tn(){var n=Object(v.a)(["\n  width: 100%;\n\n  margin-bottom: 16px;\n  background: #eee;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  position: relative;\n"]);return Tn=function(){return n},n}function Mn(){var n=Object(v.a)(["\n  width: 100%;\n"]);return Mn=function(){return n},n}function Sn(){var n=Object(v.a)(["\n  flex: 0 1 488px;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"]);return Sn=function(){return n},n}var Un=h.a.ul(Sn()),Ln=h.a.li(Mn()),Rn=h.a.article(Tn()),An=h.a.div(Nn()),Cn=h.a.div(In()),Wn=h.a.div(zn()),Bn=h.a.h2(kn()),Fn=h.a.p(yn()),Dn=h.a.p(jn()),Hn=h.a.footer(On()),Jn=h.a.div(En()),Kn=h.a.div(wn()),Pn=h.a.img(xn()),_n=h.a.p(bn()),Yn=h.a.p(hn()),$n=h.a.div(vn()),qn=h.a.span(gn()),Gn=t(42);function Xn(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipFirst:0},t=n.reduce((function(n,e){try{var t=e.gs$cell,r=parseInt(null===t||void 0===t?void 0:t.row,10)-1,a=t.$t;return n.length<=r&&n.push([]),n[r].push(a),n}catch(o){throw console.error("Error parsing rows from API"),o}}),[[]]),r=t.slice(e.skipFirst||0),a=Object(Gn.a)(r),o=a[0],i=a.slice(1);return{header:o,rows:i}}function Qn(n,e){if((null===n||void 0===n?void 0:n.length)!==(null===e||void 0===e?void 0:e.length))throw new Error("zip() requires two equal length arrays");var t={};return n.forEach((function(n,r){return t[n]=e[r]})),t}var Vn="https://spreadsheets.google.com/feeds/cells/1EHjx9oHnOT7sRLwalgnp0DI1cXzRYYMtptOOSEdxRak/1/public/full?alt=json",Zn=[300,900,2700,6500,14e3,23e3,34e3,48e3,64e3,85e3,1e5,12e4,14e4,165e3,195e3,225e3,265e3,305e3,355e3];function ne(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!0,t=!1,r=void 0;try{for(var a,o=Zn[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var i=a.value;if(i>n)return i}}catch(l){t=!0,r=l}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}return 1/0}function ee(n){var e=Xn(n,{skipFirst:1}),t=e.header,r=e.rows,a=t.map((function(n){return n.toLowerCase()}));return r.map((function(n){return Qn(a,n)})).map((function(n){return Object(p.a)({},n,{xp:parseInt(n.xp,10)})}))}var te=function(){var n=Object(r.useState)([]),e=Object(s.a)(n,2),t=e[0],o=e[1];return Object(r.useEffect)((function(){function n(){return(n=Object(u.a)(c.a.mark((function n(){var e,t,r,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d()(Vn);case 2:r=n.sent,a=ee(null===r||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:null===(t=e.feed)||void 0===t?void 0:t.entry),o(a);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),a.a.createElement(Un,null,t.map((function(n){return a.a.createElement(Ln,{key:n.name},a.a.createElement(Rn,null,a.a.createElement(An,null,a.a.createElement(Wn,null,a.a.createElement(Pn,{src:n.image}),a.a.createElement(_n,null,n.class," ",n.level),a.a.createElement(Yn,null,n.race)),a.a.createElement(Cn,null,a.a.createElement(Bn,null,n.name),a.a.createElement(Dn,null,n.description))),a.a.createElement(Hn,null,a.a.createElement("p",null,n.xp,"/",ne(n.xp)),a.a.createElement(Jn,null,a.a.createElement(Kn,{style:{right:"".concat(100-Math.round(n.xp/ne(n.xp)*100),"%")}}))),a.a.createElement($n,null,a.a.createElement("p",null,n.gold,a.a.createElement(qn,null))),a.a.createElement(Fn,null,n.player)))})))};function re(){var n=Object(v.a)(["\n  width: 180px;\n"]);return re=function(){return n},n}var ae=Object(h.a)(K)(re());var oe=function(){return a.a.createElement(ae,{width:"100",fill:"red"})};var ie=function(){return"Coming soonish!"};function le(){var n=Object(v.a)(["\n  background: lightgray;\n  flex: 1;\n  display: flex;\n\n  justify-content: center;\n  align-items: center;\n\n  position: relative;\n"]);return le=function(){return n},n}var ce=h.a.main(le()),ue=Array(20).fill(Array(20).fill({})),se={title:"Westwall",description:"A small but bustling town sitting at the farthest reaches of civilization. Adventurers flock here, seeking fame and fortune in the wilds west of the wall."},pe="https://spreadsheets.google.com/feeds/cells/1-Oc-nzUgM8HB1S7EL9Dgs8i3KpyBC5NUe7G1Fd2KC2I/1/public/full?alt=json",fe="https://spreadsheets.google.com/feeds/cells/1-Oc-nzUgM8HB1S7EL9Dgs8i3KpyBC5NUe7G1Fd2KC2I/2/public/full?alt=json";function de(n){var e=Xn(n),t=e.header;return e.rows.map((function(n){return Qn(t,n)})).map((function(n){return Object(p.a)({},n,{location:n.location.split(",").map((function(n){return parseInt(n.trim())})),hexLevel:"-"!==n.hexLevel?parseInt(n.hexLevel):0})}))}function me(n){var e=Xn(n),t=e.header;return e.rows.reduce((function(n,e){var r=Qn(t,e);return n[r.terrainType]=r,n}),{})}var ge=function(){var n=Object(r.useState)(se),e=Object(s.a)(n,2),t=e[0],o=e[1],i=Object(r.useState)(ue),l=Object(s.a)(i,2),f=l[0],v=l[1],h=Object(r.useState)({}),b=Object(s.a)(h,2),x=b[0],w=b[1];Object(r.useEffect)((function(){function n(){return(n=Object(u.a)(c.a.mark((function n(){var e,t,r,a,o,i,l,u,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d()(pe);case 2:return o=n.sent,n.next=5,d()(fe);case 5:i=n.sent,l=de(null===o||void 0===o?void 0:null===(e=o.data)||void 0===e?void 0:null===(t=e.feed)||void 0===t?void 0:t.entry),u=me(null===i||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:null===(a=r.feed)||void 0===a?void 0:a.entry),s=JSON.parse(JSON.stringify(ue)),l.forEach((function(n){var e=n.location;s[e[0]][e[1]]=n})),v(s),w(u);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var E=Object(r.useCallback)((function(n){var e=n.currentTarget,t=parseInt(e.getAttribute("data-row")),r=parseInt(e.getAttribute("data-col"));o(Object(p.a)({},f[t][r]))}),[f]),O=Object(r.useCallback)((function(){return o(se)}),[]);return a.a.createElement(m.a,null,a.a.createElement(mn,null),a.a.createElement(ce,{className:"main"},a.a.createElement(g.d,null,a.a.createElement(g.b,{path:"/westmarches/players"},a.a.createElement(te,null)),a.a.createElement(g.b,{path:"/westmarches/adventures"},a.a.createElement(ie,null)),a.a.createElement(g.b,{path:"/westmarches/pawn"},a.a.createElement(oe,null)),a.a.createElement(g.b,{path:"/westmarches"},a.a.createElement(an,{hexData:f,terrainMapping:x,onMouseOver:E,onMouseOut:O}),a.a.createElement(F,{hovered:t})),a.a.createElement(g.b,{path:"/"},a.a.createElement(g.a,{to:"/westmarches"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.f9a75e49.chunk.js.map