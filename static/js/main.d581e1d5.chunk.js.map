{"version":3,"sources":["components/HexTooltip/styles.js","components/HexTooltip/HexTooltip.js","components/HexTooltip/index.js","components/Board/styles.js","components/Board/Board.js","components/Board/index.js","components/Navbar/styles.js","components/Navbar/Navbar.js","components/Navbar/index.js","styles.js","App.js","constants.js","serviceWorker.js","index.js"],"names":["HexTitle","styled","h2","HexDescription","p","HexContainer","section","HexInfo","header","footer","Location","TerrainType","ReactTooltip","_ReactTooltip","HexLevel","aside","getDifficultyClass","level","HexTooltip","hovered","type","fogOfWar","title","description","split","map","key","substring","hexLevel","className","location","terrainType","BoardContainer","div","HexRow","HEX_RADIUS","Hex","TRIANGLE_HEIGHT","color","Board","hexData","onMouseOver","onMouseOut","terrainMapping","row","i","cx","odd","hex","j","data-tip","data-row","data-col","hidden","Array","fill","Nav","nav","NavItems","ul","NavItem","li","NavLink","_NavLink","Navbar","to","exact","Main","main","BOARD","DEFAULT_HOVER","TILE_URL","TERRAIN_URL","zip","listA","listB","length","Error","zipped","forEach","parseSheetData","data","allRows","reduce","currentRows","entry","cell","parseInt","val","$t","push","e","console","error","rows","parseTileSheet","n","trim","parseTerrainSheet","terrainTypes","terrainObj","App","useState","setHovered","setHexData","setTerrainMapping","useEffect","a","axios","hexResult","terrainResult","hexes","feed","terrain","dataCopy","JSON","parse","stringify","getData","useCallback","event","target","currentTarget","getAttribute","col","path","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.d581e1d5.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport _ReactTooltip from \"react-tooltip\";\n\nexport const HexTitle = styled.h2`\n  font-size: 16px;\n  color: black;\n  margin: 8px;\n  margin-right: 28px;\n`;\n\nexport const HexDescription = styled.p`\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.87);\n  white-space: normal;\n  margin: 8px;\n`;\n\nexport const HexContainer = styled.section`\n  margin: 0;\n  max-width: 300px;\n  overflow: hidden;\n`;\n\nexport const Header = styled.header`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const HexInfo = styled.footer`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  font-size: 10px;\n  line-height: 18px;\n  padding: 0 8px;\n\n  background: #ddd;\n  border-radius: 0 0 4px 4px;\n`;\n\nexport const Location = styled.p`\n  margin: 0;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.87);\n`;\n\nexport const TerrainType = styled.p`\n  margin: 0;\n  text-transform: uppercase;\n  font-weight: bold;\n`;\n\nexport const ReactTooltip = styled(_ReactTooltip)`\n  &.__react_component_tooltip.type-light {\n    background: #eee;\n    padding: 0;\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    border-radius: 4px;\n\n    &.place-top::after {\n      display: none;\n    }\n  }\n`;\n\nexport const HexLevel = styled.aside`\n  color: rgba(0, 0, 0, 0.7);\n  font-size: 10px;\n  font-weight: bold;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 36px;\n  width: 36px;\n  text-align: right;\n  padding: 2px;\n  border-radius: 0 4px 0 0;\n\n  &.low {\n    background: linear-gradient(45deg, transparent 36px, palegreen 0) bottom\n      left;\n  }\n\n  &.medium {\n    background: linear-gradient(45deg, transparent 36px, khaki 0) bottom left;\n  }\n\n  &.high {\n    background: linear-gradient(45deg, transparent 36px, lightcoral 0) bottom\n      left;\n    color: white;\n  }\n`;\n","import React from \"react\";\n\nimport {\n  HexTitle,\n  HexDescription,\n  HexContainer,\n  HexInfo,\n  Location,\n  ReactTooltip,\n  TerrainType,\n  HexLevel\n} from \"./styles\";\n\nfunction getDifficultyClass(level = 0) {\n  return level > 3 ? \"high\" : level > 1 ? \"medium\" : \"low\";\n}\n\nfunction HexTooltip({ hovered }) {\n  return (\n    <ReactTooltip type=\"light\">\n      <HexContainer>\n        {hovered.fogOfWar === \"TRUE\" ? (\n          <HexDescription>\n            Uncharted territory. Explore at your own risk.\n          </HexDescription>\n        ) : (\n          <>\n            <HexTitle>{hovered.title}</HexTitle>\n            {hovered.description.split(\"\\\\n\").map(description => (\n              <HexDescription key={description.substring(0, 20)}>\n                {description}\n              </HexDescription>\n            ))}\n          </>\n        )}\n        {hovered?.hexLevel > 0 && hovered.fogOfWar !== \"TRUE\" && (\n          <HexLevel className={getDifficultyClass(hovered.hexLevel)}>\n            {hovered.hexLevel}\n          </HexLevel>\n        )}\n        {(hovered.location || hovered.terrainType) && (\n          <HexInfo>\n            {hovered.terrainType && (\n              <TerrainType>\n                {hovered.terrainType === \"-\" || hovered.fogOfWar === \"TRUE\"\n                  ? \"Unknown\"\n                  : hovered.terrainType}\n              </TerrainType>\n            )}\n            {hovered.location && (\n              <Location>\n                {hovered.location[0]}, {hovered.location[1]}\n              </Location>\n            )}\n          </HexInfo>\n        )}\n      </HexContainer>\n    </ReactTooltip>\n  );\n}\n\nexport default HexTooltip;\n","import HexTooltip from \"./HexTooltip\";\n\nexport default HexTooltip;\n","import styled from \"styled-components\";\n\nimport { BOARD_SIZE } from \"../../constants\";\n\nconst TRIANGLE_HEIGHT = 7.5;\nconst HEX_RADIUS = 13;\nconst HEX_MARGIN = 1.5;\n\nexport const BoardContainer = styled.div`\n  width: ${(HEX_RADIUS + HEX_MARGIN) * 2 * BOARD_SIZE}px;\n  transform: perspective(900px) rotateX(60deg) translateY(200px);\n`;\n\nexport const HexRow = styled.div`\n  clear: left;\n\n  &.hidden {\n    visibility: hidden;\n  }\n\n  &.odd {\n    margin-left: ${HEX_RADIUS + HEX_MARGIN / 2}px;\n  }\n`;\n\nexport const Hex = styled.div`\n  margin-left: ${HEX_MARGIN}px;\n  margin-bottom: ${HEX_MARGIN}px;\n  float: left;\n  margin-top: ${TRIANGLE_HEIGHT}px;\n  width: ${HEX_RADIUS * 2}px;\n  height: ${TRIANGLE_HEIGHT * 2}px;\n  background-color: ${({ color }) => color};\n  position: relative;\n  box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-in-out;\n\n  &.hidden {\n    visibility: hidden;\n  }\n\n  &:hover {\n    z-index: 10;\n    transform: scale(1.4);\n    box-shadow: 0 11px 15px -7px rgba(0, 0, 0, 0.2),\n      0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);\n  }\n\n  &::before {\n    content: \"\";\n    width: 0;\n    height: 0;\n    border-bottom: ${TRIANGLE_HEIGHT}px solid ${({ color }) => color};\n    border-left: ${HEX_RADIUS}px solid transparent;\n    border-right: ${HEX_RADIUS}px solid transparent;\n    position: absolute;\n    top: -${TRIANGLE_HEIGHT}px;\n  }\n\n  &::after {\n    content: \"\";\n    width: 0;\n    position: absolute;\n    bottom: -${TRIANGLE_HEIGHT}px;\n    border-top: ${TRIANGLE_HEIGHT}px solid ${({ color }) => color};\n    border-left: ${HEX_RADIUS}px solid transparent;\n    border-right: ${HEX_RADIUS}px solid transparent;\n  }\n`;\n","import React from \"react\";\nimport cx from \"classnames\";\n\nimport { Hex, HexRow, BoardContainer } from \"./styles\";\n\nfunction Board({ hexData, onMouseOver, onMouseOut, terrainMapping }) {\n  return (\n    <BoardContainer>\n      {hexData.map((row, i) => (\n        <HexRow key={i} className={cx({ odd: i % 2 === 1 })}>\n          {row.map((hex, j) => {\n            return (\n              <Hex\n                key={`${i}-${j}`}\n                data-tip=\"React-tooltip\"\n                data-row={i}\n                data-col={j}\n                color={\n                  hex?.fogOfWar === \"TRUE\"\n                    ? \"slategray\"\n                    : hex?.color !== \"-\"\n                    ? hex.color\n                    : hex?.terrainType !== \"-\"\n                    ? terrainMapping[hex.terrainType]?.color\n                    : \"transparent\"\n                }\n                onMouseOver={onMouseOver}\n                onMouseOut={onMouseOut}\n                className={cx({ hidden: !hex?.title })}\n              />\n            );\n          })}\n        </HexRow>\n      ))}\n      <HexRow odd>\n        {Array(20)\n          .fill({})\n          .map((row, i) => (\n            <Hex\n              key={`bottom-${i}`}\n              data-tip=\"React-tooltip\"\n              color={\"#383838\"}\n              className={cx({ hidden: i !== 10 })}\n            />\n          ))}\n      </HexRow>\n    </BoardContainer>\n  );\n}\n\nexport default Board;\n","import Board from \"./Board\";\n\nexport default Board;\n","import styled from \"styled-components\";\nimport { NavLink as _NavLink } from \"react-router-dom\";\n\nexport const Nav = styled.nav`\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n\nexport const NavItems = styled.ul`\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  display: flex;\n  height: 50px;\n  background: #eee;\n`;\n\nexport const NavItem = styled.li`\n  flex: 1 0 auto;\n  padding: 0 10px;\n`;\n\nexport const NavLink = styled(_NavLink)`\n  display: flex;\n  justify-content: center;\n  text-decoration: none;\n  text-align: center;\n  min-width: 80px;\n  text-transform: uppercase;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.54);\n  font-size: 14px;\n  line-height: 50px;\n  height: 50px;\n\n  padding: 0 10px;\n\n  &.active {\n    color: rgba(0, 0, 0, 0.87);\n  }\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.1);\n    color: rgba(0, 0, 0, 0.87);\n  }\n`;\n","import React from \"react\";\n\nimport { Nav, NavLink, NavItems, NavItem } from \"./styles\";\n\nfunction Navbar() {\n  return (\n    <Nav>\n      <NavItems>\n        <NavItem>\n          <NavLink to=\"/\" exact>\n            Map\n          </NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink to=\"/players\">Players</NavLink>\n        </NavItem>\n        <NavItem>\n          <NavLink to=\"/pawn\">Perenolde's Pawn Palace</NavLink>\n        </NavItem>\n      </NavItems>\n    </Nav>\n  );\n}\n\nexport default Navbar;\n","import Navbar from \"./Navbar\";\n\nexport default Navbar;\n","import styled from \"styled-components\";\n\nexport const Main = styled.main`\n  background: lightgray;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n\n  justify-content: center;\n  align-items: center;\n`;\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport HexTooltip from \"./components/HexTooltip\";\nimport Board from \"./components/Board\";\nimport Navbar from \"./components/Navbar\";\nimport { Main } from \"./styles\";\nimport { BOARD_SIZE } from \"./constants\";\n\nconst BOARD = Array(BOARD_SIZE).fill(Array(BOARD_SIZE).fill({}));\n\nconst DEFAULT_HOVER = {\n  title: \"Westwall\",\n  description:\n    \"A small but bustling town sitting at the farthest reaches of civilization. Adventurers flock here, seeking fame and fortune in the wilds west of the wall.\"\n};\n\nconst TILE_URL =\n  \"https://spreadsheets.google.com/feeds/cells/1-Oc-nzUgM8HB1S7EL9Dgs8i3KpyBC5NUe7G1Fd2KC2I/1/public/full?alt=json\";\n\nconst TERRAIN_URL =\n  \"https://spreadsheets.google.com/feeds/cells/1-Oc-nzUgM8HB1S7EL9Dgs8i3KpyBC5NUe7G1Fd2KC2I/2/public/full?alt=json\";\n\nfunction zip(listA, listB) {\n  if (listA?.length !== listB?.length) {\n    throw new Error(\"zip() requires two equal length arrays\");\n  }\n  const zipped = {};\n  listA.forEach((key, i) => (zipped[key] = listB[i]));\n  return zipped;\n}\n\nfunction parseSheetData(data) {\n  // take data from the above sheet and parse it to machine readable\n  const allRows = data.reduce(\n    (currentRows, entry) => {\n      try {\n        const cell = entry[\"gs$cell\"];\n        const row = parseInt(cell?.row, 10) - 1;\n        const val = cell.$t;\n\n        if (currentRows.length <= row) {\n          currentRows.push([]);\n        }\n        currentRows[row].push(val);\n        return currentRows;\n      } catch (e) {\n        console.error(\"Error parsing rows from API\");\n        throw e;\n      }\n    },\n    [[]]\n  );\n  const [header, ...rows] = allRows;\n  return { header, rows };\n}\n\nfunction parseTileSheet(data) {\n  const { header, rows: hexes } = parseSheetData(data);\n  const zipped = hexes.map(hex => zip(header, hex));\n  return zipped.map(hex => ({\n    ...hex,\n    location: hex.location.split(\",\").map(n => parseInt(n.trim())),\n    hexLevel: hex.hexLevel !== \"-\" ? parseInt(hex.hexLevel) : 0\n  }));\n}\n\nfunction parseTerrainSheet(data) {\n  const { header, rows } = parseSheetData(data);\n  return rows.reduce((terrainTypes, row) => {\n    const terrainObj = zip(header, row);\n    terrainTypes[terrainObj.terrainType] = terrainObj;\n    return terrainTypes;\n  }, {});\n}\n\nfunction App() {\n  const [hovered, setHovered] = useState(DEFAULT_HOVER);\n  const [hexData, setHexData] = useState(BOARD);\n  const [terrainMapping, setTerrainMapping] = useState({});\n\n  useEffect(() => {\n    async function getData() {\n      const hexResult = await axios(TILE_URL);\n      const terrainResult = await axios(TERRAIN_URL);\n      const hexes = parseTileSheet(hexResult?.data?.feed?.entry);\n      const terrain = parseTerrainSheet(terrainResult?.data?.feed?.entry);\n      const dataCopy = JSON.parse(JSON.stringify(BOARD));\n      hexes.forEach(hex => {\n        const { location } = hex;\n        dataCopy[location[0]][location[1]] = hex;\n      });\n      setHexData(dataCopy);\n      setTerrainMapping(terrain);\n    }\n    getData();\n  }, []);\n\n  const onMouseOver = useCallback(\n    event => {\n      const target = event.currentTarget;\n      const row = parseInt(target.getAttribute(\"data-row\"));\n      const col = parseInt(target.getAttribute(\"data-col\"));\n\n      setHovered({ ...hexData[row][col] });\n    },\n    [hexData]\n  );\n\n  const onMouseOut = useCallback(() => setHovered(DEFAULT_HOVER), []);\n\n  return (\n    <Router>\n      <Main>\n        <Navbar />\n\n        <Switch>\n          <Route path=\"/players\">Coming soon!</Route>\n          <Route path=\"/pawn\">Coming later!</Route>\n          <Route path=\"/\">\n            <Board\n              hexData={hexData}\n              terrainMapping={terrainMapping}\n              onMouseOver={onMouseOver}\n              onMouseOut={onMouseOut}\n            />\n            <HexTooltip hovered={hovered} />\n          </Route>\n        </Switch>\n      </Main>\n    </Router>\n  );\n}\n\nexport default App;\n","export const BOARD_SIZE = 20;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}